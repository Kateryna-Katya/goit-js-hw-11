{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n  return `\n  <div class=\"img-container\">\n  <li class=\"gallery-card\">\n  <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n    <img\n      class=\"gallery-img\"\n      src=\"${imgInfo.webformatURL}\"\n      alt=\"${imgInfo.tags}\"\n      width=\"360\" height=\"200\"\n    />\n    <div class=\"info\">\n<p><b>Likes:</b> ${imgInfo.likes}</p>\n        <p><b>Views:</b> ${imgInfo.views}</p>\n        <p><b>Coments:</b> ${imgInfo.comments}</p>\n        <p><b>Downloads:</b> ${imgInfo.downloads}</p>\n    </div>\n  </a>\n</li>\n</div>`\n}\n\n\n\n\n\n\n","const BASE_URL = `https://pixabay.com/api/`;\n\nexport const fetchPhotos = userSerch => {\n    const urlParams = new URLSearchParams({\n        key: \"45517792-9e921d102392e39380fbae016\",\n        q: userSerch,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n    return fetch(`${BASE_URL}?${urlParams}`).then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        return response.json();\n    });\n};\n\n\nfetch(`${BASE_URL}?key=45517792-9e921d102392e39380fbae016&q=userSerch&image_type=photo&orientation=horizontal&safesearch=true`);","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nimport { createGalleryCardTemplate } from \"./js/render-functions.js\";\nimport { fetchPhotos } from \"./js/pixabay-api.js\"\n\n\nconst searchFormEl = document.querySelector(`.js-search-form`);\nconst galleryEl = document.querySelector('.js-gallery');\nconst loadingIndicatorEl = document.createElement('div');\n\nloadingIndicatorEl.classList.add('loading-indicator', 'hidden');\ndocument.body.appendChild(loadingIndicatorEl);\n\nfunction showLoadingIndicator() {\n    loadingIndicatorEl.classList.remove('hidden');\n}\nfunction hideLoadingIndicator() {\n    loadingIndicatorEl.classList.add('hidden');\n}\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedValue = searchFormEl.elements.user_query.value.trim();\n    showLoadingIndicator();\n\n    fetchPhotos(searchedValue)\n        .then(data => {\n            if (data.total === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n\n                galleryEl.innerHTML = '';\n                searchFormEl.reset();\n                hideLoadingIndicator();\n                return;\n            }\n\n            const galleryCardsTemplate = data.hits.map(imgDetails => createGalleryCardTemplate(imgDetails)).join('');\n\n            galleryEl.innerHTML = galleryCardsTemplate;\n\n            const lightbox = new SimpleLightbox('.js-gallery a', {\n                captions: true,\n                captionsData: 'alt',\n                captionPosition: 'bottom',\n                captionDelay: 250,\n                overlayOpacity: 0.7,\n            });\n\n            lightbox.refresh();\n\n        })\n        .catch(err => {\n            console.error(err);\n        })\n        .finally(() => {\n            hideLoadingIndicator();\n            searchFormEl.reset();\n        });\n};\n\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\n\n\n"],"names":["createGalleryCardTemplate","imgInfo","BASE_URL","fetchPhotos","userSerch","urlParams","response","searchFormEl","galleryEl","loadingIndicatorEl","showLoadingIndicator","hideLoadingIndicator","onSearchFormSubmit","event","searchedValue","data","iziToast","galleryCardsTemplate","imgDetails","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChC;AAAA;AAAA;AAAA,kCAGyBA,EAAQ,aAAa;AAAA;AAAA;AAAA,aAG1CA,EAAQ,YAAY;AAAA,aACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,mBAINA,EAAQ,KAAK;AAAA,2BACLA,EAAQ,KAAK;AAAA,6BACXA,EAAQ,QAAQ;AAAA,+BACdA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,QCf1CC,EAAW,2BAEJC,EAAcC,GAAa,CACpC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EAAE,KAAMC,GAAa,CACxD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,CACL,EAGA,MAAM,GAAGJ,CAAQ,6GAA6G,ECT9H,MAAMK,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAqB,SAAS,cAAc,KAAK,EAEvDA,EAAmB,UAAU,IAAI,oBAAqB,QAAQ,EAC9D,SAAS,KAAK,YAAYA,CAAkB,EAE5C,SAASC,GAAuB,CAC5BD,EAAmB,UAAU,OAAO,QAAQ,CAChD,CACA,SAASE,GAAuB,CAC5BF,EAAmB,UAAU,IAAI,QAAQ,CAC7C,CAGA,MAAMG,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBP,EAAa,SAAS,WAAW,MAAM,OAC7DG,IAEAP,EAAYW,CAAa,EACpB,KAAKC,GAAQ,CACV,GAAIA,EAAK,QAAU,EAAG,CAClBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAEDR,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClBI,IACA,MACH,CAED,MAAMM,EAAuBF,EAAK,KAAK,IAAIG,GAAclB,EAA0BkB,CAAU,CAAC,EAAE,KAAK,EAAE,EAEvGV,EAAU,UAAYS,EAEL,IAAIE,EAAe,gBAAiB,CACjD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EAChC,CAAa,EAEQ,QAAO,CAE5B,CAAS,EACA,MAAMC,GAAO,CACV,QAAQ,MAAMA,CAAG,CAC7B,CAAS,EACA,QAAQ,IAAM,CACXT,IACAJ,EAAa,MAAK,CAC9B,CAAS,CACT,EAGAA,EAAa,iBAAiB,SAAUK,CAAkB"}